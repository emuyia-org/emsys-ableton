#N canvas 827 239 527 327 12;
#X obj 1018 447 bng 25 250 50 0 empty empty empty 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X obj 264 384 s midich_mnm_notes;
#X obj 404 384 s midich_md_notes;
#X obj 749 513 route 248;
#X obj 815 602 i;
#X obj 749 544 bng 25 250 50 0 empty empty empty 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X obj 793 541 bng 25 250 50 0 empty empty empty 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X obj 815 640 change;
#X obj 815 714 s midich_clock;
#X obj 886 531 r midich_clock_learn;
#X msg 865 602 set -1;
#X obj 886 565 bng 25 250 50 0 empty empty empty 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X obj 815 675 nbx 4 20 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #191919 #e1e1e1 #e1e1e1 0 256;
#X obj 749 475 midirealtimein, f 17;
#X text 886 452 dynamically assign clock midi ch, f 12;
#X obj 368 334 nbx 4 18 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #191919 #e1e1e1 #e1e1e1 0 256;
#X obj 306 334 nbx 4 18 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #191919 #e1e1e1 #e1e1e1 0 256;
#X obj 241 334 nbx 4 18 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #191919 #e1e1e1 #e1e1e1 0 256;
#X obj 181 334 nbx 4 18 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #191919 #e1e1e1 #e1e1e1 0 256;
#X obj 102 384 s midich_mnm_pgm;
#X obj 227 415 s midich_md_pgm;
#X obj 78 426 s midich_mnm_sysex;
#X obj 264 450 s midich_md_sysex;
#X obj 267 155 bng 25 250 50 0 empty empty empty 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X obj 1018 418 loadmess bang;
#X obj 55 248 r midich_mnm_set;
#X obj 76 217 r midich_md_set;
#X obj 105 143 r midich_md_notes_set;
#X obj 68 178 r midich_mnm_notes_set;
#X msg 292 200 30;
#X msg 255 200 63;
#X msg 362 201 26;
#X text 515 134 manual configuration suited for plugdata, f 19;
#X obj 1110 449 r scmgr.InitScreenFinished;
#X obj 1044 532 onebang;
#X obj 1091 479 bng 25 250 50 0 empty empty empty 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X obj 483 154 bng 25 250 50 0 empty empty empty 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X msg 483 199 15;
#X msg 517 200 14;
#X msg 552 201 9;
#X msg 617 202 13;
#X obj 535 330 nbx 4 18 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #191919 #e1e1e1 #e1e1e1 0 256;
#X obj 535 383 s midich_thru;
#X msg 400 200 62;
#X msg 581 201 10;
#X obj 31 288 r midich_thru_set;
#X text 49 476 my hardcoded preferences for md/mcl/mnm MIDI ch's: \; MD pgm IN should be set to 14 \; MNM pgm IN should be set to 15 \; MCL CHRO should be set to 10 (this is effectively MD notes IN) \; MNM auto track CH should be left at 9 (this is MNM notes IN) \; CC can be sent from this patch to a DAW via CH 13;
#X text 34 590 info about the quirks of emsys MIDI configuration: \; \; how separate PGM for md/mnm works: MCL USB FWD is set to 2 so that PGM sent via MegaCMD USB MIDI gets routed to MNM \, whereas PGM sent directly via MIDI to MCL PORT 2 IN gets routed to MD (as long as TRANS RECV is set to from 2 \, which it should be anyway for this setup). this is the reason that MNM PGM midich is set to a number in a different 16 digit range compared to the MD PGM \; \; it should also be noted that there is a difference between how pure data handles MIDI channels for connected devices versus how plugdata handles it. plugdata seems to operate within a single 16 digit range for all devices (1-16) \, whereas pure data \, which is what the prod environment uses \, splits the devices across groups of 16 (e.g. device 1 is 1-16 \, device 2 is 17-32 \, etc.) \; \; this is why I have made the MIDI ch configurable \, so that there is better flexibility between the dev and prod environment \; \; additional note: CC can be sent from this patch to a DAW via CH 13 the CC is sent to the MegaCMD via USB MIDI \, which is directed to MNM as normal. since ch13 is not used for anything on the MNM \, it's ignored. we can then listen to this CC through the MNM's MIDI THRU port connected to a MIDI interface. this is useful for retrieving tempo information from emsys for recording, f 90;
#X obj 1041 646 s scmgr.GlobalSettingsDo;
#X msg 1043 602 ml3.midich;
#X obj 1044 564 bng 25 250 50 0 empty empty empty 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X text 314 137 default assignment \, suited for pd, f 17;
#X obj 717 140 bng 25 250 50 0 empty empty empty 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X obj 370 29 r env_defaults_dev;
#X obj 363 89 sel 0 1;
#X obj 370 55 tgl 25 0 empty empty empty 17 7 0 10 #191919 #e1e1e1 #e1e1e1 0 1;
#X obj 717 336 s env_defaults_dev;
#X obj 762 399 s midich_md_notes_set;
#X obj 863 367 s midich_mnm_notes_set;
#X obj 734 368 s midich_md_set;
#X obj 858 334 s midich_mnm_set;
#X obj 1061 365 s midich_thru_set;
#X obj 717 283 route env.defaults.dev md.midich.pgm md.midich.notes mnm.midich.pgm mnm.midich.notes cc.tempo.tog cc.midich;
#X obj 1002 335 s cc_tempo_tog;
#X msg 1683 178 env.defaults.dev;
#X msg 720 185 md.midich.pgm;
#X msg 885 183 md.midich.notes;
#X msg 1044 181 mnm.midich.pgm;
#X msg 1199 180 mnm.midich.notes;
#X msg 1368 182 cc.tempo.tog;
#X msg 1520 180 cc.midich;
#X obj 717 106 t;
#X obj 714 42 loadmess bang;
#X obj 715 6 bng 25 250 50 0 empty empty empty 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X obj 1683 139 bng 25 250 50 0 empty empty empty 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X obj 721 224 em.midisetup.getparam;
#X obj 883 228 em.midisetup.getparam;
#X obj 1041 227 em.midisetup.getparam;
#X obj 1201 229 em.midisetup.getparam;
#X obj 1363 229 em.midisetup.getparam;
#X obj 1523 230 em.midisetup.getparam;
#X obj 1685 230 em.midisetup.getparam;
#X obj 715 73 del 100;
#X msg 328 201 57;
#X connect 0 0 11 0;
#X connect 0 0 34 1;
#X connect 3 0 5 0;
#X connect 3 1 6 0;
#X connect 4 0 7 0;
#X connect 5 0 4 0;
#X connect 7 0 12 0;
#X connect 9 0 11 0;
#X connect 10 0 7 0;
#X connect 11 0 10 0;
#X connect 12 0 8 0;
#X connect 13 0 3 0;
#X connect 13 1 4 1;
#X connect 15 0 2 0;
#X connect 16 0 1 0;
#X connect 17 0 20 0;
#X connect 17 0 22 0;
#X connect 18 0 19 0;
#X connect 18 0 21 0;
#X connect 23 0 30 0;
#X connect 23 0 29 0;
#X connect 23 0 83 0;
#X connect 23 0 31 0;
#X connect 23 0 43 0;
#X connect 24 0 0 0;
#X connect 25 0 18 0;
#X connect 26 0 17 0;
#X connect 27 0 15 0;
#X connect 28 0 16 0;
#X connect 29 0 17 0;
#X connect 30 0 18 0;
#X connect 31 0 15 0;
#X connect 33 0 35 0;
#X connect 34 0 50 0;
#X connect 35 0 34 0;
#X connect 36 0 37 0;
#X connect 36 0 38 0;
#X connect 36 0 44 0;
#X connect 36 0 40 0;
#X connect 36 0 39 0;
#X connect 37 0 18 0;
#X connect 38 0 17 0;
#X connect 39 0 16 0;
#X connect 40 0 41 0;
#X connect 41 0 42 0;
#X connect 43 0 41 0;
#X connect 44 0 15 0;
#X connect 45 0 41 0;
#X connect 49 0 48 0;
#X connect 50 0 49 0;
#X connect 52 0 65 0;
#X connect 52 0 66 0;
#X connect 52 0 67 0;
#X connect 52 0 70 0;
#X connect 52 0 68 0;
#X connect 52 0 69 0;
#X connect 53 0 55 0;
#X connect 54 0 23 0;
#X connect 54 1 36 0;
#X connect 55 0 54 0;
#X connect 62 0 56 0;
#X connect 62 1 59 0;
#X connect 62 2 57 0;
#X connect 62 3 60 0;
#X connect 62 4 58 0;
#X connect 62 5 63 0;
#X connect 62 6 61 0;
#X connect 64 0 81 0;
#X connect 65 0 75 0;
#X connect 66 0 76 0;
#X connect 67 0 77 0;
#X connect 68 0 78 0;
#X connect 69 0 79 0;
#X connect 70 0 80 0;
#X connect 71 0 52 0;
#X connect 71 1 74 0;
#X connect 72 0 82 0;
#X connect 73 0 72 0;
#X connect 74 0 64 0;
#X connect 75 0 62 0;
#X connect 76 0 62 0;
#X connect 77 0 62 0;
#X connect 78 0 62 0;
#X connect 79 0 62 0;
#X connect 80 0 62 0;
#X connect 81 0 62 0;
#X connect 82 0 71 0;
#X connect 83 0 16 0;
