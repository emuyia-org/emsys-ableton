#N canvas 520 119 646 482 12;
#X obj 903 27 loadbang;
#X obj 448 730 midiout;
#X obj 495 573 bng 65 250 50 0 empty empty A01 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X obj 589 572 bng 65 250 50 0 empty empty A04 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X msg 601 701 4;
#X msg 508 701 1;
#X obj 495 654 t;
#X obj 589 653 t;
#X text 495 545 pattern interrupt test;
#X obj 1049 72 notein;
#X msg 1049 163 note: \$1 \, vel: \$2 \, ch: \$3;
#X obj 1049 124 pack f f f;
#X obj 90 364 midiout;
#X msg 66 293 250;
#X obj 614 127 knob 50 30 300 0 0 empty empty #191919 #696969 #E1E1E1 1 0 0 0 1 270 0 0 30;
#X msg 175 293 252;
#X msg 117 293 251;
#X obj 66 258 bng 25 250 50 0 empty empty start> 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X obj 119 258 bng 25 250 50 0 empty empty cont> 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X obj 175 258 bng 25 250 50 0 empty empty stop> 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X floatatom 617 201 11 0 0 0 tempo - - 16;
#X msg 456 691 250;
#X obj 313 245 counter 0 0 5;
#X obj 438 127 midirealtimein;
#X obj 313 280 sel 0;
#X obj 313 313 bng 25 250 50 0 empty empty >tick 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X obj 472 245 bng 25 250 50 0 empty empty >stop 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X obj 440 245 bng 25 250 50 0 empty empty >cont 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X obj 408 245 bng 25 250 50 0 empty empty >start 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X obj 616 416 midiout;
#X obj 616 281 expr round($f1 * 24);
#X obj 376 166 gate 0, f 12;
#X obj 376 127 tgl 25 0 empty empty clock\ in 17 7 0 10 #191919 #e1e1e1 #e1e1e1 0 1;
#X obj 616 315 expr ($f1 >> 7) & 0x7F;
#X obj 769 315 expr $f1 & 0x7F;
#X text 680 404 sysex IN to MD requires MCL: USB FWD: 1, f 22;
#X obj 210 313 counter 0 0 3;
#X obj 210 342 sel 0;
#X obj 210 371 bng 52 50 25 0 empty empty 1/4\ note\ pulse 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#N canvas 733 172 450 300 midi_throttle 0;
#X obj 91 128 change;
#X obj 91 352 f, f 11;
#X obj 91 396 change;
#X obj 91 299 onebang, f 25;
#X obj 189 223 counter 0 0 1;
#X obj 189 255 sel 1;
#X obj 91 160 t b f;
#X obj 167 122 loadbang;
#X msg 167 151 1;
#X obj 163 180 metro 100;
#X obj 91 51 inlet;
#X obj 91 434 outlet;
#X connect 0 0 6 0;
#X connect 1 0 2 0;
#X connect 2 0 11 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 3 1;
#X connect 6 0 3 0;
#X connect 6 1 1 1;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 1 0;
#X connect 9 0 4 0;
#X connect 10 0 0 0;
#X restore 616 242 pd midi_throttle;
#X msg 616 382 240 0 32 60 2 0 97 \$1 \$2 247;
#X obj 617 351 pack f f;
#X obj 352 488 dac~;
#X obj 390 400 line;
#X obj 316 427 *~ 0;
#X msg 356 370 0.1 \, 0 150;
#X msg 443 325 set 0;
#X msg 408 325 1;
#X msg 467 287 0;
#X obj 310 206 sel 248;
#X obj 408 200 sel 250 251 252;
#X obj 89 172 stripnote;
#X obj 89 211 sel 41 40;
#X text 51 116 from minilab (play/stop pads);
#X obj 89 142 notein;
#X obj 385 444 tgl 20 0 empty empty test\ blip 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 338 456 *~ 0;
#X obj 311 397 saw~ 500;
#X obj 409 287 t, f 5;
#X obj 504 773 pgmout 15;
#X text 453 798 assumes MCL PGM IN is set to ch15;
#X text 667 552 PGM followed by immediate play signal works OK on MD/MnM standalone \, but MCL requires a gap...;
#X text 906 849 ., f 3;
#X text 675 143 todo: read current tempo to keep param updated;
#X msg 509 739 \$1;
#X msg 766 239 tempo \$1;
#X msg 90 332 \$1;
#X obj 1046 207 spigot;
#X obj 902 86 print sys;
#X msg 903 57 welcome;
#X obj 1110 201 tgl 20 0 empty empty debug\ MIDI 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 19 366 s to-mcl;
#X obj 771 271 s to-mcl;
#X obj 944 176 r to-mcl;
#X obj 944 207 print to-mcl;
#X obj 946 236 r from-mcl;
#X obj 946 267 print from-mcl;
#X obj 1049 233 print from-midi;
#X obj 596 776 s to-mcl;
#X msg 595 747 pgm \$1;
#X connect 0 0 69 0;
#X connect 2 0 6 0;
#X connect 3 0 7 0;
#X connect 4 0 64 0;
#X connect 5 0 64 0;
#X connect 6 0 21 0;
#X connect 6 1 5 0;
#X connect 7 0 21 0;
#X connect 7 1 4 0;
#X connect 9 0 11 0;
#X connect 9 1 11 1;
#X connect 9 2 11 2;
#X connect 10 0 67 0;
#X connect 11 0 10 0;
#X connect 13 0 66 0;
#X connect 14 0 20 0;
#X connect 15 0 66 0;
#X connect 16 0 66 0;
#X connect 17 0 13 0;
#X connect 18 0 16 0;
#X connect 19 0 15 0;
#X connect 20 0 39 0;
#X connect 21 0 1 0;
#X connect 22 0 24 0;
#X connect 23 0 31 1;
#X connect 23 0 50 0;
#X connect 24 0 25 0;
#X connect 24 0 36 0;
#X connect 26 0 48 0;
#X connect 27 0 47 0;
#X connect 28 0 58 0;
#X connect 30 0 33 0;
#X connect 30 0 34 0;
#X connect 31 0 49 0;
#X connect 32 0 31 0;
#X connect 33 0 41 0;
#X connect 34 0 41 1;
#X connect 36 0 37 0;
#X connect 37 0 38 0;
#X connect 38 0 45 0;
#X connect 39 0 30 0;
#X connect 39 0 65 0;
#X connect 40 0 29 0;
#X connect 41 0 40 0;
#X connect 43 0 44 1;
#X connect 44 0 56 0;
#X connect 45 0 43 0;
#X connect 46 0 22 0;
#X connect 46 0 36 0;
#X connect 47 0 32 0;
#X connect 48 0 32 0;
#X connect 49 0 22 0;
#X connect 50 0 28 0;
#X connect 50 1 27 0;
#X connect 50 2 26 0;
#X connect 51 0 52 0;
#X connect 52 0 17 0;
#X connect 52 1 19 0;
#X connect 54 0 51 0;
#X connect 54 1 51 1;
#X connect 55 0 56 1;
#X connect 56 0 42 0;
#X connect 56 0 42 1;
#X connect 57 0 44 0;
#X connect 58 0 47 0;
#X connect 58 1 46 0;
#X connect 64 0 59 0;
#X connect 64 0 79 0;
#X connect 65 0 72 0;
#X connect 66 0 12 0;
#X connect 66 0 71 0;
#X connect 67 0 77 0;
#X connect 69 0 68 0;
#X connect 70 0 67 1;
#X connect 73 0 74 0;
#X connect 75 0 76 0;
#X connect 79 0 78 0;
