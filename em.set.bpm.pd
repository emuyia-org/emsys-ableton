#N canvas 1874 1253 1063 538 12;
#X obj 218 151 r s.seg_bpm_target;
#X obj 216 187 change;
#X obj 236 356 pack f f f;
#X msg 237 391 \$3 \, \$1 \$2;
#X obj 232 439 line 120 50;
#X obj 234 475 s t.tempo;
#X obj 407 359 r s.reset;
#X obj 338 361 r t.stop;
#X msg 372 399 stop;
#X obj 306 221 r s.seg_bpm_rtime;
#X obj 303 255 * 1000;
#X obj 428 257 f;
#X obj 447 221 r t.tempo;
#X obj 214 220 t f b;
#X text 465 246 tempo ramping... should work. when ramp data comes in \, it captures the current tempo into [f] \, which gets used as the starting position for [line], f 28;
#X obj 134 225 r t.beat1;
#X obj 167 268 onebang;
#X obj 226 317 f;
#X text 74 261 wait until beat1 to begin ramp, f 11;
#X msg 364 155 set -1;
#X obj 369 86 r ctl.manual_tempo_change;
#X obj 371 117 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 291 37 r s.seek_seg;
#X floatatom 162 380 5 0 0 0 - - - 0;
#X obj 127 89 onebang;
#X obj 147 37 r ctl.shift_state;
#X floatatom 153 484 7 0 0 0 - - - 0;
#X obj 130 126 t b b;
#X msg 158 159 0;
#X obj 97 162 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X connect 0 0 1 0;
#X connect 1 0 13 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 0 26 0;
#X connect 6 0 8 0;
#X connect 7 0 8 0;
#X connect 8 0 4 0;
#X connect 9 0 10 0;
#X connect 10 0 2 1;
#X connect 11 0 2 2;
#X connect 12 0 11 1;
#X connect 13 0 17 1;
#X connect 13 1 11 0;
#X connect 13 1 16 1;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 2 0;
#X connect 17 0 23 0;
#X connect 19 0 1 0;
#X connect 20 0 21 0;
#X connect 21 0 19 0;
#X connect 22 0 24 1;
#X connect 24 0 27 0;
#X connect 25 0 24 0;
#X connect 27 0 17 0;
#X connect 27 0 29 0;
#X connect 27 1 28 0;
#X connect 28 0 10 0;
