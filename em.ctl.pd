#N canvas 1440 928 1920 976 12;
#X obj 61 185 midiout 3;
#X msg 60 149 240 0 32 107 127 66 2 2 64 106 33 247;
#X obj 60 113 loadbang;
#X text 129 111 required for init ml3_text;
#X obj 390 53 loadbang;
#X obj 396 172 ml3/text;
#X obj 393 108 del 50;
#X obj 391 76 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 474 142 emsys;
#X msg 422 139 alpha;
#X obj 545 151 ml3/clr;
#X obj 541 55 loadbang;
#X msg 549 115 clear;
#X obj 542 86 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 514 250 ctlin 106 33;
#X obj 413 250 ctlin 107 33;
#X obj 519 280 sel 127, f 8;
#X obj 414 283 sel 127;
#X obj 516 312 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 413 315 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X text 521 221 stop;
#X text 66 34 caution: if ml3 gets unplugged after this occurs \, text input wont work thereafter until this is triggered again, f 31;
#X obj 515 345 s t.stop;
#X obj 423 358 s t.cont;
#X text 418 221 cont;
#X obj 541 427 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 539 456 s t.prime;
#X text 581 424 prime (midi: 250);
#X obj 122 450 ml3/clr;
#X obj 165 424 loadmess red;
#X obj 153 400 loadmess 0;
#X obj 180 365 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 122 398 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 118 297 r t.4n;
#X msg 92 357 1;
#X msg 131 366 0;
#X obj 129 327 del 50;
#X text 52 704 ideas for making most of limited buttons:;
#X text 51 733 pressing cont btn when it's already playing will trigger a tin, f 64;
#X text 50 805 orange button reloads/resets set \, but you have to press it three times without pressing anything else;
#X text 47 851 rec button does a hold;
#X text 51 986 func+notched knob will seek through segments \, forward or back;
#X text 44 1032 func+notched knob+clicked down will seek through available msets \, and when released will load them in;
#X text 49 881 tap button is the 'function' button \, and modifies the behaviour of the sliders and leftmost knob (the one with the notches). it should be a toggle on/off rather than 'hold down' because it's too awkward to hold. if you press it again \, or any other pad \, or play a note \, it will reset the func status to off.;
#X text 50 1140 func+slider 1 & slider 2 - set MD & MnM bank for current seg;
#X text 51 1162 func+slider 3 - set MnM poly?;
#X text 48 1179 fun+slider 4 - display all data for current segment (sliding up and down cycles through showing all the different values);
#X text 48 1073 func+first three pads (arp/pad/prog) - insert seg before current seg (duplicates) \, COPY button (after which 'inserting' will insert the copied seg) \, and delete current seg;
#X text 48 1214 func+knobs - adjust current segment data's values - segment repetitions \, loop length \, bpm target \, bpm ramp \, pd seq module \, pd snd module \, (spare) \, tin?;
#X obj 768 95 ctlin, f 9;
#X obj 773 154 print;
#X obj 1024 321 ctlin 108 33;
#X obj 1169 264 ctlin 109 33;
#X obj 257 304 r t.transport_status;
#X obj 707 282 ctlin 105 33;
#X text 51 759 pressing and holding stop \, then pressing play \, does a prime \, instead of the orange button;
#X obj 545 398 onebang;
#X msg 596 348 stop;
#X obj 594 320 b;
#X text 487 765 @done;
#X obj 711 322 sel 127;
#X obj 808 282 ctlin;
#X floatatom 832 155 5 0 0 0 - - - 0;
#X obj 824 310 sel 105;
#X obj 822 380 counter 0 0 2;
#X obj 823 409 sel 2;
#X obj 849 519 s t.stop;
#X obj 721 519 s ctl.reload_mset;
#X obj 820 479 t;
#X obj 819 443 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X text 713 227 rest / reload mset - orange pad must be pressed 3 times, f 21;
#X text 476 809 @done;
#X text 993 157 problem: the state of the pad LED's need to be restored after pressing shift since shift changes the colours of all of them;
#X obj 374 535 onebang;
#X obj 412 425 sel 1;
#X obj 435 463 b;
#X msg 433 495 stop;
#X floatatom 292 387 5 0 0 0 - - - 0;
#X obj 302 338 pipe 50;
#X obj 372 611 s tin.toggle;
#X obj 369 575 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 285 535 set \$1;
#X obj 280 497 r tin.toggle;
#X text 437 540 toggle tin - press cont btn when already playing, f 14;
#X text 509 732 @done;
#X text 847 448 reset;
#X obj 820 549 s s.reset;
#X obj 866 343 b;
#X obj 1026 357 sel 127;
#X text 1029 284 hold toggle (red btn), f 13;
#X obj 1034 422 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 950 382 set \$1;
#X obj 944 344 r s.hold;
#X obj 1037 458 s s.hold;
#X text 467 843 @done;
#X text 677 710 ideas for ui feedback:;
#X text 990 206 this could be solved by modifying the ml3/clr object so that it stores and recalls colours;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 4 0 7 0;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 7 0 9 0;
#X connect 7 0 6 0;
#X connect 8 0 5 2;
#X connect 9 0 5 1;
#X connect 11 0 13 0;
#X connect 12 0 10 0;
#X connect 13 0 12 0;
#X connect 14 0 16 0;
#X connect 15 0 17 0;
#X connect 16 0 18 0;
#X connect 16 0 56 1;
#X connect 16 1 58 0;
#X connect 17 0 19 0;
#X connect 17 0 56 0;
#X connect 18 0 22 0;
#X connect 19 0 23 0;
#X connect 19 0 73 0;
#X connect 25 0 26 0;
#X connect 29 0 28 2;
#X connect 30 0 28 1;
#X connect 31 0 29 0;
#X connect 31 0 30 0;
#X connect 32 0 28 0;
#X connect 33 0 34 0;
#X connect 33 0 36 0;
#X connect 34 0 32 0;
#X connect 35 0 32 0;
#X connect 36 0 35 0;
#X connect 49 1 50 0;
#X connect 49 1 62 0;
#X connect 51 0 88 0;
#X connect 53 0 78 0;
#X connect 54 0 60 0;
#X connect 56 0 25 0;
#X connect 57 0 56 0;
#X connect 58 0 57 0;
#X connect 60 0 64 0;
#X connect 61 1 63 0;
#X connect 63 1 87 0;
#X connect 64 0 65 0;
#X connect 65 0 69 0;
#X connect 68 0 67 0;
#X connect 68 1 66 0;
#X connect 68 1 86 0;
#X connect 69 0 68 0;
#X connect 73 0 80 0;
#X connect 74 0 73 1;
#X connect 74 1 75 0;
#X connect 75 0 76 0;
#X connect 76 0 73 0;
#X connect 78 0 77 0;
#X connect 78 0 74 0;
#X connect 80 0 79 0;
#X connect 81 0 80 0;
#X connect 82 0 81 0;
#X connect 87 0 64 2;
#X connect 88 0 90 0;
#X connect 90 0 93 0;
#X connect 91 0 90 0;
#X connect 92 0 91 0;
