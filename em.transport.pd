#N canvas 733 172 450 300 8;
#X obj 278 521 midiout;
#X msg 254 450 250;
#X msg 305 450 251;
#X obj 255 285 bng 38 300 280 0 empty empty ◄ 6 19 0 22 #b9ff00 #438f00 #000000;
#X obj 332 285 bng 38 300 250 0 empty empty ► 9 19 0 22 #34ff2e #000000 #000000;
#X obj 293 285 bng 38 250 250 0 empty empty ⏸ 0 18 0 42 #ffdb00 #000000 #000000;
#X msg 278 489 \$1;
#X obj 207 523 s to-mcl;
#X msg 363 450 252;
#X obj 293 222 r stop;
#X obj 238 222 r start;
#X obj 392 479 s stop_press;
#X obj 181 485 s start_press;
#X obj 358 511 s cont_press;
#X obj 354 222 r cont;
#X obj 580 358 counter 0 0 5;
#X obj 718 236 midirealtimein;
#X obj 580 388 sel 0;
#X obj 779 360 bng 25 250 50 0 empty empty >stop 28 12 0 10 #191919 #e1e1e1 #9c8500;
#X obj 734 360 bng 25 250 50 0 empty empty >cont 26 12 0 10 #191919 #e1e1e1 #639100;
#X obj 688 360 bng 25 250 50 0 empty empty >start 29 12 0 10 #191919 #e1e1e1 #369d3a;
#X obj 656 294 gate 0, f 12;
#X obj 656 255 tgl 25 0 empty empty clock\ in -43 12 0 11 #191919 #e1e1e1 #8e7200 0 1;
#X obj 580 419 counter 0 0 3;
#X obj 580 448 sel 0;
#X obj 259 380 bng 52 50 25 0 empty empty 1/4 7 26 0 24 #f77d17 #5061ff #000000;
#X msg 614 210 1;
#X msg 702 205 0;
#X obj 580 328 sel 248;
#X obj 688 328 sel 250 251 252, f 23;
#X obj 533 165 t, f 8;
#X obj 318 380 bng 52 300 200 0 empty empty load 4 26 0 22 #00063f #deff00 #ffffff;
#X obj 1047 269 nbx 4 18 6 64 0 0 empty empty pattern\ beat\ len 0 -8 0 10 #191919 #e1e1e1 #008ee1 0 256;
#X obj 1047 294 - 1;
#X obj 990 328 counter 0 0 15;
#X obj 1087 294 - 3;
#X obj 990 385 sel 13;
#X obj 1058 385 sel 1;
#X obj 938 385 sel 0;
#X obj 688 397 s mcl_start;
#X obj 734 424 s mcl_cont;
#X obj 780 397 s mcl_stop;
#X obj 533 127 r mcl_start;
#X obj 987 174 r mcl_start;
#X obj 580 486 s mcl_4pulse;
#X obj 961 229 r mcl_4pulse;
#X obj 701 174 r mcl_stop;
#X obj 612 174 r mcl_cont;
#X obj 1000 425 s load;
#X obj 938 428 s beat1;
#X obj 1059 231 r beat_len;
#X obj 1058 411 s downbeat;
#X obj 1122 374 s beat_counter;
#X obj 147 261 r mcl_4pulse;
#X obj 188 285 r load;
#X obj 260 355 hsl 108 17 0 12 0 0 empty empty empty -2 -8 0 10 #000000 #ffffff #e1e1e1 0 1;
#X obj 62 282 t b f;
#X msg 43 343 range \$1 \$2;
#X obj 43 312 pack 0 127, f 16;
#X obj 62 251 r beat_len;
#X obj 137 343 r beat_counter;
#X obj 872 429 s beat2;
#X obj 872 398 sel 1;
#X obj 119 701 keyup;
#X obj 119 752 s start;
#X obj 144 784 s stop;
#X floatatom 86 725 5 0 0 0 - - - 12;
#X obj 119 725 sel 112 108 111;
#X obj 174 752 s cont;
#X obj 405 770 s start;
#X obj 516 770 s cont;
#X obj 461 770 s stop;
#X obj 350 770 s reset;
#X obj 240 732 sel 36 37 38 39 40 41 42 43, f 93;
#X obj 240 659 notein, f 20;
#X obj 240 688 stripnote, f 12;
#X text 102 614 ext controllers:;
#X text 47 -89 todo: add internal clock just for the sake of testing without the synths. seq24 isn't good for testing because you have to set it up every time \, and it has differing transport behaviour.;
#X obj 626 770 s manual_tin;
#X obj 295 791 s seg_hold;
#X obj 1038 615 knob 49 30 300 0 120 empty empty #191919 #696969 #e1e1e1 1 0 0 0 1 270 0 0 30;
#X floatatom 1040 687 9 0 0 1 bpm - - 12;
#X obj 1049 898 midiout;
#N canvas 2929 1407 460 501 midi_throttle 0;
#X obj 91 128 change;
#X obj 91 352 f, f 11;
#X obj 91 396 change;
#X obj 91 299 onebang, f 25;
#X obj 189 223 counter 0 0 1;
#X obj 189 255 sel 1;
#X obj 91 160 t b f;
#X obj 167 122 loadbang;
#X msg 167 151 1;
#X obj 163 180 metro 100;
#X obj 91 51 inlet;
#X obj 91 434 outlet;
#X text 336 232 prevents overwhelming hardware with MIDI messages, f 15;
#X connect 0 0 6 0;
#X connect 1 0 2 0;
#X connect 2 0 11 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 3 1;
#X connect 6 0 3 0;
#X connect 6 1 1 1;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 1 0;
#X connect 9 0 4 0;
#X connect 10 0 0 0;
#X restore 1047 830 pd midi_throttle;
#X msg 965 866 tempo \$1;
#X obj 970 898 s to-mcl;
#X msg 878 865 set \$1;
#X obj 892 717 /;
#X obj 893 654 t b f;
#X msg 871 686 60000;
#X obj 897 479 midirealtimein;
#X obj 897 513 sel 248;
#X obj 897 577 sel 0;
#X msg 1159 721 1;
#X msg 1245 723 0;
#X obj 1157 756 pipe 500;
#X msg 1193 722 clear;
#X obj 878 796 spigot, f 71;
#X obj 1160 687 t;
#N canvas 2504 1527 425 312 tempo2sysex 0;
#X obj 65 111 expr round($f1 * 24);
#X obj 65 145 expr ($f1 >> 7) & 0x7F;
#X obj 241 147 expr $f1 & 0x7F;
#X text 129 234 sysex IN to MD requires MCL: USB FWD: 1, f 22;
#X msg 65 212 240 0 32 60 2 0 97 \$1 \$2 247;
#X obj 66 181 pack f f;
#X obj 62 72 inlet;
#X obj 67 245 outlet;
#X text 272 80 stores bpm in 14 bit MIDI value, f 17;
#X connect 0 0 1 0;
#X connect 0 0 2 0;
#X connect 1 0 5 0;
#X connect 2 0 5 1;
#X connect 4 0 7 0;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X restore 1049 865 pd tempo2sysex;
#X obj 898 617 realtime;
#X obj 1038 585 loadbang;
#X obj 878 830 int;
#X obj 421 210 r beat_len;
#X floatatom 277 332 6 0 0 0 len - - 12;
#X obj 897 547 counter 0 0 11;
#X obj 891 752 / 2;
#X obj 332 190 r tempo;
#X obj 805 865 s tempo;
#X floatatom 316 332 6 0 0 1 bpm - - 12;
#X connect 1 0 6 0;
#X connect 2 0 6 0;
#X connect 3 0 1 0;
#X connect 3 0 12 0;
#X connect 4 0 2 0;
#X connect 4 0 13 0;
#X connect 5 0 8 0;
#X connect 5 0 11 0;
#X connect 6 0 0 0;
#X connect 6 0 7 0;
#X connect 8 0 6 0;
#X connect 9 0 5 0;
#X connect 10 0 3 0;
#X connect 14 0 4 0;
#X connect 15 0 17 0;
#X connect 16 0 21 1;
#X connect 16 0 29 0;
#X connect 17 0 23 0;
#X connect 18 0 41 0;
#X connect 19 0 40 0;
#X connect 20 0 39 0;
#X connect 21 0 28 0;
#X connect 22 0 21 0;
#X connect 23 0 24 0;
#X connect 24 0 44 0;
#X connect 26 0 22 0;
#X connect 27 0 22 0;
#X connect 28 0 15 0;
#X connect 29 0 20 0;
#X connect 29 1 19 0;
#X connect 29 2 18 0;
#X connect 30 0 26 0;
#X connect 30 1 15 2;
#X connect 30 1 23 2;
#X connect 32 0 33 0;
#X connect 32 0 35 0;
#X connect 33 0 34 4;
#X connect 34 0 36 0;
#X connect 34 0 38 0;
#X connect 34 0 52 0;
#X connect 34 0 62 0;
#X connect 34 2 37 0;
#X connect 35 0 36 1;
#X connect 36 0 48 0;
#X connect 37 0 51 0;
#X connect 38 0 49 0;
#X connect 42 0 30 0;
#X connect 43 0 34 2;
#X connect 45 0 34 0;
#X connect 46 0 27 0;
#X connect 47 0 26 0;
#X connect 50 0 32 0;
#X connect 53 0 25 0;
#X connect 54 0 31 0;
#X connect 56 0 58 0;
#X connect 56 1 58 1;
#X connect 57 0 55 0;
#X connect 58 0 57 0;
#X connect 59 0 56 0;
#X connect 60 0 55 0;
#X connect 62 0 61 0;
#X connect 63 0 66 0;
#X connect 63 0 67 0;
#X connect 67 0 64 0;
#X connect 67 1 65 0;
#X connect 67 2 68 0;
#X connect 73 1 79 0;
#X connect 73 2 72 0;
#X connect 73 3 69 0;
#X connect 73 4 71 0;
#X connect 73 5 70 0;
#X connect 73 7 78 0;
#X connect 74 0 75 0;
#X connect 74 1 75 1;
#X connect 75 0 73 0;
#X connect 80 0 98 0;
#X connect 80 0 81 0;
#X connect 81 0 83 0;
#X connect 83 0 84 0;
#X connect 83 0 99 0;
#X connect 84 0 85 0;
#X connect 86 0 81 0;
#X connect 86 0 80 0;
#X connect 87 0 106 0;
#X connect 88 0 89 0;
#X connect 88 1 87 1;
#X connect 89 0 87 0;
#X connect 90 0 91 0;
#X connect 91 0 105 0;
#X connect 92 0 100 1;
#X connect 92 0 100 0;
#X connect 93 0 95 0;
#X connect 94 0 97 1;
#X connect 95 0 97 1;
#X connect 96 0 95 0;
#X connect 97 0 102 0;
#X connect 98 0 93 0;
#X connect 98 1 94 0;
#X connect 98 1 96 0;
#X connect 99 0 82 0;
#X connect 100 0 88 0;
#X connect 101 0 80 0;
#X connect 102 0 86 0;
#X connect 102 0 108 0;
#X connect 103 0 104 0;
#X connect 105 0 92 0;
#X connect 106 0 97 0;
#X connect 107 0 109 0;
#X coords 0 0 1 1 125 175 1 254 266;
