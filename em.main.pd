#N canvas 2038 974 1024 344 12;
#X text 1269 2291 ., f 3;
#X obj 289 1 em.transport;
#X obj 1 135 em.tin;
#X obj 1 1 em.set;
#X text 524 13 concern: tins seem to still go through on mcl loads sometimes \, or just miss sending the stop signal... either way \, sometimes i hear 'doubled up' kicks in the patterns indicating the stop signal is not going through. not sure why this is happening.;
#X obj -1 269 em.dev;
#X obj -151 29 loadmess 1;
#X obj -151 59 pipe 250;
#X obj 450 212 bng 31 250 50 0 shutdown empty shutdown -7 -6 0 10 #d82332 #e1e1e1 #e1e1e1;
#X obj -151 224 shell;
#X obj -151 164 r shutdown;
#X msg -151 194 sudo shutdown now;
#X text 3 213 1) wait for system to settle \; 2) verify latency calibration;
#X obj -151 89 dsp;
#X floatatom 404 224 5 0 0 2 cpu cpu_indicator - 0;
#X obj -151 119 s cpu_indicator;
#X obj 343 361 notein;
#X obj 330 479 noteout 9;
#X obj 422 350 hradio 21 1 0 7 empty empty mnm\ track 19 -11 0 12 #232323 #dcdcdc #84aaff 0;
#X obj 423 379 + 1;
#X obj 419 407 sel 7;
#X msg 420 435 9;
#X obj 416 310 loadmess 9;
#X text 530 93 problem: pressing keyboard notes triggers the transport sequence \, when only the pads should be doing that;
#X obj 333 398 stripnote;
#X obj 265 430 selector 2;
#X obj 338 430 selector 2;
#X obj 299 367 tgl 25 0 empty empty stripnote -8 -9 0 10 #191919 #e1e1e1 #e1e1e1 0 1;
#X text -111 473 problem: this seems to not work with USB FWD 2... which is weird because USB FWD worked for sysex messages to MD (USB FWD: 1). if worst comes to worst \, I could solve this by using the MIDI merge box... but I want to avoid that., f 45;
#X text -114 563 potential solution: MIDI clock from Monomachine?? :) \; that way I can control tempo and poly mode / whatever other sysex stuff all on the mono \, which is in most need of customisation anyway, f 47;
#X text -116 642 this unfortunately sacrifices storing tempo changes in MCL - that would need to be something stored here instead... which is \, doable? but offloads even more to here \, which is concerning for stability's sake;
#X text -117 715 although \, that could have an advantage... controlling tempo from here means there doesn't have to be any sudden tempo changes and ergo.. desync. I could introduce a feature where the segment data steers the tempo with [line] but does not override the tempo detected at any given moment - which would make tempo changes more gradual.;
#X text 684 241 new seg data proposal \; - bpm xxx \; - poly 0/1 \; \; other: \; - mnmsq <name> \; - pdsn <name> \; - pdsq <name>;
#X text 682 392 inter-patch communication between sq and sn modules \; - idk;
#X text -102 443 poly mode...;
#X text 69 -217 display-less conversion: \; - set loaded based on boot.txt \; - button reloads boot.txt & resets set \; - specific segs are loaded by holding minilab pad 1 and pressing key \; - play/pause/cont are the same (minilab pads) \; - tin & hold - \; - MIDI calibration - the onboard RPi LED will do (flashing) \; - tempo control - managed by minilab control (encoder set to endless) - depends on whether we have internal or external MIDI clock after all \; - pisound knobs will serve to control puredata module / fx module param macros \; - fx routing: C from MD goes to L channel ST in \, C from MnM goes to R \; - if using internal MIDI clock - pisound DIN MIDI out goes to MCL IN 2, f 84;
#X obj -154 -212 midiout;
#X floatatom -136 -322 5 0 0 0 - - - 12;
#X msg -17 -513 pick;
#X msg -18 -461 hex \$1;
#X obj -16 -436 colors -rgb;
#X obj -17 -488 colors;
#X msg -154 -244 240 0 32 107 127 66 2 2 22 \$1 \$2 \$3 \$4 247;
#X obj -173 -321 bng 25 250 50 0 empty empty empty 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X msg -18 -396 \$2;
#X obj -152 -284 pack 4 127 0 0, f 22;
#X msg -65 -394 \$1;
#X msg 24 -397 \$3;
#X obj -89 -337 expr int(($f1 / 255) * 127);
#X obj -30 -364 expr int(($f1 / 255) * 127);
#X obj 83 -332 expr int(($f1 / 255) * 127);
#X obj -10 -564 bng 25 250 50 0 empty empty empty 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X msg 231 -295 set \$1;
#X obj 85 -279 pack f f f;
#X obj 160 -276 tosymbol;
#X msg 241 -259 0\ 0\ 127;
#X msg -485 -174 240 0 32 107 127 66 2 2 22 5 \$1 \$2 \$3 247;
#X msg -370 -206 16 7 127;
#X msg -297 -209 0 0 0;
#X obj -307 -275 sel 1, f 5;
#X obj -306 -308 tgl 23 0 empty empty empty 17 7 0 10 #191919 #e1e1e1 #e1e1e1 0 1;
#X obj -287 -246 b;
#X obj -481 -143 midiout;
#X obj -306 -382 tgl 25 0 empty empty empty 17 7 0 10 #191919 #e1e1e1 #e1e1e1 0 1;
#X msg -395 -478 240 0 32 107 127 66 2 2 22 \$1 0 0 0 247;
#X obj -400 -448 midiout;
#X msg -394 -510 0 \, 1 \, 2 \, 3 \, 4 \, 5 \, 6 \, 7 \, 8 \, 9 \, 10 \, 11;
#X obj -392 -544 bng 25 250 50 0 empty empty set\ all\ colours\ to\ 0 17 7 0 10 #191919 #e1e1e1 #e1e1e1;
#X obj -307 -334 metro 100;
#X connect 6 0 7 0;
#X connect 7 0 13 0;
#X connect 10 0 11 0;
#X connect 11 0 9 0;
#X connect 13 0 15 0;
#X connect 16 0 24 0;
#X connect 16 0 25 0;
#X connect 16 1 24 1;
#X connect 16 1 26 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 20 1 17 2;
#X connect 21 0 17 2;
#X connect 22 0 18 0;
#X connect 24 0 25 1;
#X connect 24 1 26 1;
#X connect 25 0 17 0;
#X connect 26 0 17 1;
#X connect 27 0 26 2;
#X connect 27 0 25 2;
#X connect 37 0 45 0;
#X connect 38 0 41 0;
#X connect 39 0 40 0;
#X connect 40 0 46 0;
#X connect 40 0 44 0;
#X connect 40 0 47 0;
#X connect 41 0 39 0;
#X connect 42 0 36 0;
#X connect 43 0 45 0;
#X connect 44 0 49 0;
#X connect 45 0 42 0;
#X connect 46 0 48 0;
#X connect 47 0 50 0;
#X connect 48 0 45 1;
#X connect 48 0 53 0;
#X connect 49 0 45 2;
#X connect 49 0 53 1;
#X connect 50 0 45 3;
#X connect 50 0 53 2;
#X connect 51 0 38 0;
#X connect 52 0 55 0;
#X connect 53 0 54 0;
#X connect 54 0 52 0;
#X connect 56 0 62 0;
#X connect 57 0 56 0;
#X connect 58 0 56 0;
#X connect 59 0 57 0;
#X connect 59 1 61 0;
#X connect 60 0 59 0;
#X connect 61 0 58 0;
#X connect 63 0 68 0;
#X connect 64 0 65 0;
#X connect 66 0 64 0;
#X connect 67 0 66 0;
#X connect 68 0 60 0;
#X coords 0 -1 1 1 494 252 2 0 0;
